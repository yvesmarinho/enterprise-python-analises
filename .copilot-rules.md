# ğŸ¤– COPILOT RULES

**Tipo**: Regras Gerais de Comportamento do Copilot  
**Prioridade**: ALTA - Complementam as regras estritas  
**AplicaÃ§Ã£o**: Todas as interaÃ§Ãµes e sessÃµes  
**Ãšltima AtualizaÃ§Ã£o**: 03/02/2026

---

## ğŸ¯ Objetivo

Este arquivo define diretrizes gerais de comportamento, comunicaÃ§Ã£o e workflow para o GitHub Copilot ao trabalhar neste projeto.

---

## ğŸ’¬ ComunicaÃ§Ã£o

### Tom e Estilo
- âœ… **Profissional e objetivo**
- âœ… **Claro e direto**
- âœ… **TÃ©cnico quando apropriado**
- âœ… **Usar emojis para melhor organizaÃ§Ã£o visual**
- âŒ Evitar linguagem excessivamente casual
- âŒ NÃ£o ser verboso desnecessariamente

### Formato de Respostas
- âœ… Usar Markdown formatado
- âœ… Incluir blocos de cÃ³digo com syntax highlighting
- âœ… Estruturar respostas com tÃ­tulos e listas
- âœ… Destacar informaÃ§Ãµes importantes com **negrito** ou âš ï¸
- âœ… Usar tabelas para comparaÃ§Ãµes

### ExplicaÃ§Ãµes
- âœ… Explicar o "porquÃª" das decisÃµes tÃ©cnicas
- âœ… Fornecer contexto quando relevante
- âœ… Sugerir alternativas quando apropriado
- âœ… Alertar sobre potenciais problemas
- âŒ NÃ£o assumir conhecimento avanÃ§ado sem verificar

---

## ğŸ”„ Workflow de Trabalho

### RecuperaÃ§Ã£o de Contexto (InÃ­cio de SessÃ£o)

**SEMPRE ao iniciar uma nova sessÃ£o:**

1. ğŸ“‚ **Verificar estrutura de sessÃµes anteriores**
   ```bash
   .docs/sessions/YYYY-MM-DD/
   ```

2. ğŸ“– **Ler arquivos principais**
   - `.docs/INDEX.md` - Estado geral do projeto
   - `.docs/TODO.md` - Tarefas pendentes
   - `.docs/TODAY_ACTIVITIES.md` - Ãšltima atividade
   - Ãšltima sessÃ£o em `.docs/sessions/[data-mais-recente]/`

3. ğŸ†• **Criar nova sessÃ£o**
   - Criar pasta `.docs/sessions/YYYY-MM-DD/`
   - Criar `SESSION_RECOVERY_YYYY-MM-DD.md`
   - Criar `TODAY_ACTIVITIES_YYYY-MM-DD.md`
   - Atualizar datas em INDEX.md e TODO.md

4. ğŸ“ **Documentar recuperaÃ§Ã£o**
   - O que foi recuperado
   - Estado atual do projeto
   - PrÃ³ximos passos planejados

---

### Durante a SessÃ£o

**DocumentaÃ§Ã£o ContÃ­nua:**
- âœ… Atualizar `TODAY_ACTIVITIES` conforme trabalho avanÃ§a
- âœ… Marcar tarefas concluÃ­das no `TODO.md`
- âœ… Criar arquivos nas pastas corretas
- âœ… Validar cÃ³digo antes de marcar como "funcional"

**OrganizaÃ§Ã£o:**
- âœ… Manter raiz limpa (apenas arquivos essenciais)
- âœ… Usar estrutura de pastas estabelecida
- âœ… Seguir nomenclatura padrÃ£o

**ValidaÃ§Ã£o:**
- âœ… Testar cÃ³digo criado
- âœ… Verificar sintaxe e lÃ³gica
- âœ… Validar contra requisitos

---

### Final de SessÃ£o

**DocumentaÃ§Ã£o de Encerramento:**
1. ğŸ“„ Criar `SESSION_REPORT_YYYY-MM-DD.md`
   - Resumo do que foi feito
   - Problemas encontrados
   - SoluÃ§Ãµes implementadas
   - PrÃ³ximos passos

2. âœ… Atualizar STATUS em INDEX.md
3. âœ… Atualizar progresso em TODO.md
4. ğŸ“Š Criar `FINAL_STATUS_YYYY-MM-DD.md` se for fim de milestone

---

## ğŸ”§ Desenvolvimento de CÃ³digo

### Python (Linguagem Principal)

**PadrÃµes de CÃ³digo:**
- âœ… Seguir PEP 8
- âœ… Usar type hints quando apropriado
- âœ… Docstrings em formato Google ou NumPy
- âœ… Nomes descritivos de variÃ¡veis e funÃ§Ãµes
- âœ… Constantes em UPPER_CASE
- âœ… Classes em PascalCase
- âœ… FunÃ§Ãµes e variÃ¡veis em snake_case

**Estrutura de Script:**
```python
"""
Breve descriÃ§Ã£o do script.

Este mÃ³dulo faz X, Y e Z.
"""

import stdlib
import third_party
import local_modules

# Constants
MAX_RETRIES = 3
DEFAULT_TIMEOUT = 30

def main_function(param: str) -> bool:
    """
    DescriÃ§Ã£o da funÃ§Ã£o.
    
    Args:
        param: DescriÃ§Ã£o do parÃ¢metro
        
    Returns:
        DescriÃ§Ã£o do retorno
        
    Raises:
        ValueError: Quando ocorre X
    """
    pass

if __name__ == "__main__":
    main_function()
```

**Tratamento de Erros:**
- âœ… Sempre usar try/except em operaÃ§Ãµes de I/O
- âœ… Capturar exceÃ§Ãµes especÃ­ficas (nÃ£o usar bare except)
- âœ… Logar erros apropriadamente
- âœ… Fornecer mensagens de erro Ãºteis

**ValidaÃ§Ã£o:**
- âœ… Validar inputs
- âœ… Verificar tipos quando crÃ­tico
- âœ… Testar edge cases
- âœ… Documentar limitaÃ§Ãµes conhecidas

---

### DependÃªncias

**Gerenciamento:**
- âœ… Usar `uv` como gerenciador de pacotes
- âœ… Documentar todas as dependÃªncias em `pyproject.toml`
- âœ… Especificar versÃµes (ou ranges semÃ¢nticos)
- âœ… Separar dev dependencies

**InstalaÃ§Ã£o:**
```bash
# Instalar dependÃªncias
uv pip install -r pyproject.toml

# Adicionar nova dependÃªncia
uv pip install package-name
# Atualizar pyproject.toml manualmente
```

---

## ğŸ“‚ Estrutura de Arquivos

### OrganizaÃ§Ã£o ObrigatÃ³ria

```
enterprise-python-analysis/
â”œâ”€â”€ .copilot-rules.md              # Este arquivo
â”œâ”€â”€ .copilot-strict-rules.md       # Regras estritas
â”œâ”€â”€ .copilot-strict-enforcement.md # Enforcement
â”œâ”€â”€ .docs/                         # ğŸ“š DocumentaÃ§Ã£o
â”‚   â”œâ”€â”€ INDEX.md                   # Ãndice principal
â”‚   â”œâ”€â”€ TODO.md                    # Tarefas
â”‚   â”œâ”€â”€ TODAY_ACTIVITIES.md        # Redirecionador
â”‚   â”œâ”€â”€ README.md                  # Guia de navegaÃ§Ã£o
â”‚   â”œâ”€â”€ SUMMARY.md                 # SumÃ¡rio
â”‚   â””â”€â”€ sessions/                  # Por data
â”‚       â””â”€â”€ YYYY-MM-DD/
â”‚           â”œâ”€â”€ SESSION_RECOVERY_*.md
â”‚           â”œâ”€â”€ TODAY_ACTIVITIES_*.md
â”‚           â””â”€â”€ SESSION_REPORT_*.md
â”œâ”€â”€ .secrets/                      # ğŸ” Credenciais (nÃ£o versionar)
â”œâ”€â”€ data/                          # ğŸ“Š Dados de entrada
â”‚   â””â”€â”€ docker_collector/          # MÃ©tricas Docker
â”œâ”€â”€ scripts/                       # ğŸ”§ Scripts Python
â”œâ”€â”€ reports/                       # ğŸ“ˆ RelatÃ³rios gerados
â”œâ”€â”€ n8n-tuning/                    # ğŸ”§ Subprojeto N8N
â”œâ”€â”€ main.py                        # Script principal (raiz OK)
â”œâ”€â”€ migration_plan.json            # Artefato principal (raiz OK)
â”œâ”€â”€ pyproject.toml                 # Config Python (raiz OK)
â”œâ”€â”€ README.md                      # Docs principal (raiz OK)
â””â”€â”€ uv.lock                        # Lock file (raiz OK)
```

### Arquivos Permitidos na Raiz

**APENAS estes arquivos podem estar na raiz:**
- `main.py` - Script principal do projeto
- `migration_plan.json` - Artefato principal de migraÃ§Ã£o
- `pyproject.toml` - ConfiguraÃ§Ã£o Python (uv)
- `README.md` - DocumentaÃ§Ã£o principal
- `uv.lock` - Lock file de dependÃªncias
- `.gitignore` - Ignorados do Git
- `.python-version` - VersÃ£o Python (pyenv)
- `enterprise-analysis.code-workspace` - Workspace VSCode
- `.copilot-*.md` - Arquivos de regras do Copilot

**TODOS os outros arquivos devem estar em subpastas!**

---

## ğŸ” AnÃ¡lise e Debugging

### Abordagem
1. **Entender o problema**
   - Ler mensagens de erro completamente
   - Identificar causa raiz
   - Verificar logs e outputs

2. **Investigar contexto**
   - Revisar cÃ³digo relacionado
   - Verificar dependÃªncias
   - Validar dados de entrada

3. **Propor soluÃ§Ã£o**
   - Explicar o problema identificado
   - Sugerir correÃ§Ã£o
   - Alertar sobre impactos

4. **Implementar e validar**
   - Aplicar correÃ§Ã£o
   - Testar soluÃ§Ã£o
   - Documentar mudanÃ§a

---

## ğŸ“Š RelatÃ³rios e DocumentaÃ§Ã£o

### RelatÃ³rios TÃ©cnicos

**Formato PadrÃ£o:**
```markdown
# TÃ­tulo do RelatÃ³rio

**Data**: DD/MM/YYYY  
**Autor**: GitHub Copilot  
**Objetivo**: Breve descriÃ§Ã£o

---

## Resumo Executivo
[3-5 linhas sobre o que foi feito/analisado]

## Metodologia
[Como a anÃ¡lise foi realizada]

## Resultados
[Descobertas principais com dados]

## RecomendaÃ§Ãµes
[AÃ§Ãµes sugeridas baseadas nos resultados]

## ConclusÃ£o
[SÃ­ntese final]
```

### DocumentaÃ§Ã£o de CÃ³digo

**Docstrings de FunÃ§Ã£o:**
```python
def function_name(param1: str, param2: int = 10) -> bool:
    """
    Breve descriÃ§Ã£o (uma linha).
    
    DescriÃ§Ã£o mais detalhada se necessÃ¡rio, explicando
    o propÃ³sito da funÃ§Ã£o e comportamento geral.
    
    Args:
        param1: DescriÃ§Ã£o do primeiro parÃ¢metro
        param2: DescriÃ§Ã£o do segundo parÃ¢metro (default: 10)
        
    Returns:
        True se operaÃ§Ã£o bem-sucedida, False caso contrÃ¡rio
        
    Raises:
        ValueError: Se param1 for vazio
        IOError: Se nÃ£o conseguir acessar recurso
        
    Example:
        >>> function_name("test", 20)
        True
    """
    pass
```

---

## ğŸ§ª Testes e ValidaÃ§Ã£o

### Abordagem de Testes
- âœ… Testar funÃ§Ãµes principais manualmente
- âœ… Validar com dados reais quando possÃ­vel
- âœ… Verificar edge cases
- âœ… Documentar limitaÃ§Ãµes conhecidas

### ValidaÃ§Ã£o de Scripts
Antes de marcar script como "funcional":
1. Executar com dados reais
2. Verificar outputs esperados
3. Testar tratamento de erros
4. Validar performance bÃ¡sica

---

## ğŸš€ Performance e OtimizaÃ§Ã£o

### Diretrizes
- âœ… Otimizar para legibilidade primeiro
- âœ… Performance quando necessÃ¡rio
- âœ… Documentar trade-offs de otimizaÃ§Ã£o
- âœ… Evitar otimizaÃ§Ã£o prematura

### Quando Otimizar
- OperaÃ§Ãµes em grandes volumes de dados
- Loops aninhados profundos
- OperaÃ§Ãµes de I/O repetitivas
- Processos crÃ­ticos de tempo

---

## ğŸ” SeguranÃ§a

### Credenciais
- âœ… **SEMPRE** em `.secrets/` (nunca versionar)
- âœ… Usar variÃ¡veis de ambiente quando possÃ­vel
- âœ… Validar .gitignore inclui .secrets/
- âŒ **NUNCA** hardcodar senhas/tokens em cÃ³digo

### Dados SensÃ­veis
- âœ… Sanitizar logs antes de exibir
- âœ… Mascarar informaÃ§Ãµes sensÃ­veis em outputs
- âœ… Validar permissÃµes de arquivos
- âŒ NÃ£o expor dados de produÃ§Ã£o sem necessidade

### ValidaÃ§Ã£o de Inputs
- âœ… Validar todos os inputs de usuÃ¡rio
- âœ… Sanitizar paths de arquivos
- âœ… Prevenir command injection
- âœ… Validar tipos e ranges

---

## ğŸ“ˆ MÃ©tricas e Monitoring

### MÃ©tricas de SessÃ£o
Rastrear em cada sessÃ£o:
- Tempo de duraÃ§Ã£o
- Arquivos criados/modificados
- Tarefas completadas
- Problemas encontrados
- SoluÃ§Ãµes implementadas

### DocumentaÃ§Ã£o de Progresso
- âœ… Atualizar TODO.md com % de conclusÃ£o
- âœ… Marcar milestones atingidos
- âœ… Documentar blockers encontrados
- âœ… Registrar decisÃµes tÃ©cnicas importantes

---

## ğŸ¯ PriorizaÃ§Ã£o

### Ordem de Prioridade
1. **ğŸ”¥ SeguranÃ§a e CorreÃ§Ã£o de Bugs CrÃ­ticos**
2. **âš¡ Requisitos do UsuÃ¡rio ExplÃ­citos**
3. **ğŸ“ DocumentaÃ§Ã£o e OrganizaÃ§Ã£o**
4. **ğŸ”§ Desenvolvimento de Features**
5. **âœ¨ Melhorias e OtimizaÃ§Ãµes**

### GestÃ£o de Tempo
- âœ… Features grandes: dividir em tarefas menores
- âœ… Documentar enquanto desenvolve (nÃ£o depois)
- âœ… Validar incrementalmente
- âœ… Manter momentum mas nÃ£o sacrificar qualidade

---

## ğŸ¤ InteraÃ§Ã£o com UsuÃ¡rio

### Quando Pedir ConfirmaÃ§Ã£o
- OperaÃ§Ãµes destrutivas (deletar, sobrescrever)
- MudanÃ§as em arquivos crÃ­ticos
- DecisÃµes que impactam arquitetura
- Ambiguidades em requisitos

### Quando Proceder Automaticamente
- CriaÃ§Ã£o de documentaÃ§Ã£o padrÃ£o
- OrganizaÃ§Ã£o de arquivos
- FormataÃ§Ã£o de cÃ³digo
- AtualizaÃ§Ã£o de datas em documentos

### ComunicaÃ§Ã£o de Progresso
- âœ… Informar antes de operaÃ§Ãµes longas
- âœ… Notificar conclusÃ£o de etapas importantes
- âœ… Alertar sobre problemas encontrados
- âœ… Sugerir prÃ³ximos passos

---

## ğŸ“š Aprendizado ContÃ­nuo

### AdaptaÃ§Ã£o ao Projeto
- âœ… Observar padrÃµes especÃ­ficos do projeto
- âœ… Manter consistÃªncia com cÃ³digo existente
- âœ… Evoluir abordagens baseado em feedback
- âœ… Documentar liÃ§Ãµes aprendidas

### Melhoria de Processos
- âœ… Identificar gargalos no workflow
- âœ… Sugerir melhorias de processo
- âœ… Automatizar tarefas repetitivas
- âœ… Refinar documentaÃ§Ã£o baseado no uso

---

## âœ… Checklist de Qualidade

### Antes de Finalizar Qualquer Entrega

- [ ] CÃ³digo segue padrÃµes estabelecidos
- [ ] DocumentaÃ§Ã£o estÃ¡ completa e clara
- [ ] Arquivos estÃ£o nas pastas corretas
- [ ] Nomenclatura Ã© consistente
- [ ] CÃ³digo foi testado/validado
- [ ] Erros sÃ£o tratados adequadamente
- [ ] NÃ£o hÃ¡ credenciais expostas
- [ ] TODO.md estÃ¡ atualizado
- [ ] INDEX.md reflete estado atual
- [ ] TODAY_ACTIVITIES foi atualizado

---

## ğŸ“ ReferÃªncias

### Documentos Importantes
- `.copilot-strict-rules.md` - Regras obrigatÃ³rias
- `.copilot-strict-enforcement.md` - Como regras sÃ£o aplicadas
- `.docs/INDEX.md` - Estado atual do projeto
- `.docs/TODO.md` - Tarefas pendentes

### Recursos Externos
- PEP 8: Style Guide for Python Code
- Google Python Style Guide
- Python Type Hints (PEP 484)

---

**ESTAS REGRAS ORIENTAM TODO O TRABALHO DO COPILOT**  
**DEVEM SER SEGUIDAS EM CONJUNTO COM AS REGRAS ESTRITAS**  
**EM CASO DE CONFLITO, REGRAS ESTRITAS TÃŠM PRECEDÃŠNCIA**
